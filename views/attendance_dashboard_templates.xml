<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Main Dashboard Template -->
    <template id="main_dashboard" name="Attendance Dashboard">
        <head>
            <title>Attendance Dashboard</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>    
            <link rel="stylesheet" type="text/css" href="/AGB_HR/static/src/css/attendance_dashboard.css"/>
            <script type="text/javascript" src="/AGB_HR/static/src/js/attendance_dashboard.js" defer="defer"/>
            <link rel="shortcut icon" type="image/png" href="/AGB_HR/static/src/img/AGB_LOGO.png"/>

        </head>
        <body>
            <div class="agb-app-container">
                <!-- Sticky Top Navigation -->
                <div class="agb-top-nav agb-sticky-header">
                    <h1 class="agb-nav-title">Attendance Dashboard</h1>
                    <div class="agb-nav-actions flex items-center gap-2">
                        <!-- Welcome message with waving hand -->
                        <span class="agb-nav-welcome flex items-center gap-2">
                            <span>Welcome, <t t-esc="employee.name"/>!</span>
                            <span class="text-2xl animate-wave">ðŸ‘‹</span>
                        </span>      
                        <div class="agb-profile-menu">
                            <div class="agb-profile-initials" onclick="toggleProfileMenu()">
                                <t t-esc="employee_initials"/>
                            </div>
                            <div id="profile-dropdown" class="agb-profile-dropdown hidden">
                                <a href="/employee/profile" class="agb-btn agb-btn-link agb-profile-item">
                                    <i class="fa fa-user"></i> Profile
                                </a>
                                <a href="/attendance/logout" class="agb-btn agb-btn-link agb-profile-item">
                                    <i class="fa fa-sign-out"></i> Logout
                                </a>
                            </div>

                        </div>

                    </div>
                </div>

                <!-- Main Content Wrapper -->
                <div class="agb-main-content-wrapper">
                    <div class="agb-dashboard-content">
                        <!-- Stats Cards -->
                        <div class="agb-stats-grid">
                            <!-- Attendance Card -->
                            <div class="agb-form-card agb-stat-card agb-stat-attendance">
                                <div class="agb-stat-icon">
                                    <i class="fa fa-check-circle"></i>
                                </div>
                                <div class="agb-stat-content">
                                    <h3>Attendance</h3>
                                    <div class="agb-stat-number"><t t-esc="stats['attendanceCount']"/></div>
                                    <p class="agb-stat-details">
                                        Present: <t t-esc="stats['attendanceCount']"/> | 
                                        <a t-attf-href="/attendance/late" class="agb-stat-link agb-stat-link-orange">Late: <t t-esc="stats['lateCount']"/></a> | 
                                        <a t-attf-href="/attendance/absent" class="agb-stat-link agb-stat-link-red">Absent: <t t-esc="stats['absentCount']"/></a>
                                    </p>
                                </div>
                                <div class="agb-stat-action">
                                    <button class="agb-btn agb-btn-link" onclick="window.location.href='/attendance/calendar'">
                                        <i class="fa fa-calendar"></i> Calendar
                                    </button>
                                </div>
                            </div>

                            <!-- Leave Card -->
                            <div class="agb-form-card agb-stat-card agb-stat-leave">
                                <div class="agb-stat-icon">
                                    <i class="fa-solid fa-file-signature"></i>
                                </div>
                                <div class="agb-stat-content">
                                    <h3>Leave</h3>
                                    <!-- ENHANCED: Show leave count including weekends -->
                                    <div class="agb-stat-number">
                                        <t t-esc="stats['leaveCount']"/>
                                    </div>
                                    <p class="agb-stat-details">
                                        Your Requested Leaves: <t t-esc="stats['leaveCount']"/> | 
                                        <a t-attf-href="/leave/balance" class="agb-stat-link agb-stat-link-orange">Balance</a> 
                                    </p>
                                </div>
                                <div class="agb-stat-action">
                                    <button class="agb-btn agb-btn-link" onclick="window.location.href='/leave/request'">
                                        <i class="fa fa-paper-plane"></i> To Request
                                    </button>
                                </div>
                            </div>

                        </div>

                        <!-- Quick Info -->
                        <div class="agb-form-card">
                            <div class="agb-quick-info">
                                <div class="agb-form-header">
                                    <i class="fa fa-info-circle"></i>
                                    <h3>Quick Information</h3>
                                </div>
                                <div class="agb-info-grid">
                                    <div class="agb-info-item">
                                        <i class="fa fa-credit-card"></i> 
                                        <span>Employee ID: <strong><t t-esc="employee.employee_number or 'Not Set'"/></strong></span>
                                    </div>
                                    <div class="agb-info-item">
                                        <i class="fa fa-building"></i> 
                                        <span>Department: <strong><t t-esc="employee.department_id.name or 'No Department'"/></strong></span>
                                    </div>
                                    <div class="agb-info-item">
                                        <i class="fa fa-briefcase"></i> 
                                        <span>Job Position: <strong><t t-esc="employee.job_title or 'No Position'"/></strong></span>
                                    </div>
                                    <div class="agb-info-item">
                                        <i class="fa fa-calendar-plus"></i>
                                        <span>Working Schedule: <strong><t t-esc="', '.join(employee.resource_calendar_ids.mapped('name')) or 'Standard Schedule (9:00 AM - 6:00 PM)'"/>
</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sticky Footer -->
                <div class="agb-footer agb-sticky-footer">
                    <p>copyright Â©AGB Communication 2025 .All Rights Reserved.</p>
                    <p>Secure Emplyee Attendance &amp; Leave Management System v1.0</p> 
                </div>
            </div>

            <!-- Notification Container -->
            <div id="notification-container" class="agb-notification-container"></div>
        </body>
    </template>

    <!-- ENHANCED Calendar Template with Public Holiday Support -->
    <template id="attendance_calendar" name="Attendance Calendar">
        <head>
            <title>Attendance Calendar</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>   
            <link rel="stylesheet" type="text/css" href="/AGB_HR/static/src/css/attendance_dashboard.css"/>
            <script type="text/javascript" src="/AGB_HR/static/src/js/attendance_dashboard.js"/>
            <link rel="shortcut icon" type="image/png" href="/AGB_HR/static/src/img/AGB_LOGO.png"/>
        </head>
        <body>
            <div class="agb-app-container">
                <!-- Sticky Top Navigation -->
                <div class="agb-top-nav agb-sticky-header">
                    <h1 class="agb-nav-title">Attendance Calendar</h1>
                    <div class="agb-nav-actions">
                       
                        <button class="agb-btn agb-btn-link" onclick="window.location.href='/attendance/dashboard'">
                            <i class="fa fa-arrow-left"></i> Dashboard
                        </button>
                        <a href="/attendance/logout" class="agb-btn agb-btn-link">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </div>
                </div>

                <!-- Main Content Wrapper -->
                <div class="agb-main-content-wrapper">
                    <div class="agb-form-card agb-calendar-container">
                        <div class="agb-calendar-navigation">
                            <button t-attf-onclick="window.location.href='/attendance/calendar?year=#{prev_month['year']}&amp;month=#{prev_month['month']}'">
                                <i class="fa fa-chevron-left"></i>
                            </button>
                            <h3><t t-esc="month_name"/> <t t-esc="year"/></h3>
                            <button t-attf-onclick="window.location.href='/attendance/calendar?year=#{next_month['year']}&amp;month=#{next_month['month']}'">
                                <i class="fa fa-chevron-right"></i>
                            </button>
                        </div>

                        <!-- ENHANCED: Updated legend with public holidays, weekend work, and weekend leave support -->
                        <div class="agb-calendar-legend">
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot agb-dot-present"></div>
                                <span>Present/Check-in/out</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot agb-dot-absent"></div>
                                <span>Absent/Missing</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot agb-dot-weekend"></div>
                                <span>Weekend</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot agb-dot-holiday"></div>
                                <span>Public Holiday</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot agb-dot-leave"></div>
                                <span>Leave</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot" style="background: linear-gradient(135deg, #fef3c7 50%, #10b981 50%);"></div>
                                <span>Half Leave + Half Attendance</span>
                            </div>
                            <div class="agb-legend-item">
                                <div class="agb-legend-dot" style="background: linear-gradient(135deg, #ef4444 50%, #fef3c7 50%);"></div>
                                <span>Invalid Half Leave (No Required Attendance)</span>
                            </div>
                        </div>

                        <div class="agb-calendar-grid">
                            <div class="agb-calendar-header-row">
                                <div class="agb-calendar-header-cell">Sun</div>
                                <div class="agb-calendar-header-cell">Mon</div>
                                <div class="agb-calendar-header-cell">Tue</div>
                                <div class="agb-calendar-header-cell">Wed</div>
                                <div class="agb-calendar-header-cell">Thu</div>
                                <div class="agb-calendar-header-cell">Fri</div>
                                <div class="agb-calendar-header-cell">Sat</div>
                            </div>
                            <div class="agb-calendar-body">
                                <t t-set="first_day" t-value="calendar_data[1]['date'].weekday() + 1"/>
                                <t t-if="first_day == 7" t-set="first_day" t-value="0"/>
                                
                                <!-- Empty cells for days before first day -->
                                <t t-foreach="range(first_day)" t-as="empty_day">
                                    <div class="agb-calendar-day agb-calendar-day-empty"></div>
                                </t>
                                
                                <!-- ENHANCED: Calendar days with public holidays, weekend work, and improved styling -->
                                <t t-foreach="calendar_data.items()" t-as="day_data">
                                    <t t-set="day" t-value="day_data[0]"/>
                                    <t t-set="data" t-value="day_data[1]"/>
                                    <div 
                                        t-attf-class="agb-calendar-day
                                            #{data['status'] == 'public_holiday' and 'agb-calendar-public-holiday' or ''}
                                            #{data['status'] == 'invalid_half_leave' and 'agb-calendar-invalid-half-leave' or ''}
                                            #{data['status'] == 'present' and 'agb-calendar-present' or ''}
                                            #{data['status'] == 'partial' and 'agb-calendar-partial' or ''}
                                            #{data['status'] == 'full_absent' and 'agb-calendar-absent agb-calendar-non-clickable' or ''}
                                            #{data['status'] == 'partial_absent' and 'agb-calendar-partial-absent' or ''}
                                            #{data['status'] == 'leave' and 'agb-calendar-leave' or ''}
                                            #{data['status'] == 'partial_leave' and 'agb-calendar-partial-leave' or ''}
                                            #{data['status'] == 'weekend_leave' and 'agb-calendar-weekend-leave' or ''}
                                            #{data['status'] == 'weekend_half_leave' and 'agb-calendar-weekend-half-leave' or ''}
                                            #{data['status'] == 'weekend_present' and 'agb-calendar-weekend-present' or ''}
                                            #{data['status'] == 'weekend_partial' and 'agb-calendar-weekend-partial' or ''}
                                            #{data['status'] == 'weekend' and 'agb-calendar-weekend' or ''}
                                            #{data['is_today'] and 'agb-calendar-today' or ''}
                                            #{data['status'] == 'future' and 'agb-calendar-future' or ''}
                                            #{data['status'] == 'future_half_leave' and 'agb-calendar-future-half-leave' or ''}"
                                            
                                        t-attf-onclick="#{data.get('is_clickable') and 'showDayDetails(this)' or ''}"
                                        t-attf-data-leave="#{ '1' if data.get('leave') else '0' }"
                                        t-attf-data-is-half-leave="#{ '1' if data.get('is_partial_leave') else '0' }"
                                        t-attf-data-has-attendance="#{ '1' if data.get('has_attendance') else '0' }"
                                        t-attf-data-is-weekend="#{ '1' if data.get('is_weekend') else '0' }"
                                        t-attf-data-has-check-in="#{ '1' if data.get('has_check_in') else '0' }"
                                        t-attf-data-has-check-out="#{ '1' if data.get('has_check_out') else '0' }"
                                        t-attf-data-is-public-holiday="#{ '1' if data.get('is_public_holiday') else '0' }"
                                        t-attf-data-working-hours="#{data['working_hours']}"
                                        t-attf-data-leave-name="#{data.get('leave_name','')}"
                                        t-attf-data-leave-state="#{data.get('leave_state','')}"
                                        t-attf-data-leave-reason="#{data.get('reason','')}"
                                        t-attf-data-leave-from="#{data.get('from_date','')}"
                                        t-attf-data-leave-to="#{data.get('to_date','')}"
                                        t-attf-data-leave-duration="#{data.get('number_of_days','')}"
                                        t-attf-data-leave-half-day-type="#{data.get('half_day_type','')}"
                                        t-attf-data-is-invalid-half-leave="#{ '1' if data.get('is_invalid_half_leave') else '0' }"
                                        t-attf-data-first-approver="#{data.get('first_approver','')}"
                                        t-attf-data-second-approver="#{data.get('second_approver','')}"
                                        t-attf-data-holiday-name="#{data.get('holiday_name','')}"
                                        t-attf-data-date="#{data['formatted_date']}"
                                        t-attf-data-checkin="#{data['check_in_time'] or 'Not recorded'}"
                                        t-attf-data-checkout="#{data['check_out_time'] or 'Not recorded'}"
                                        t-attf-data-late="#{data['late_minutes'] if data['is_late'] else 0}"
                                        t-attf-data-shift="#{data['shift_name']}"
                                        t-attf-data-status="#{data['status']}"
                                        t-attf-data-attendance-fraction="#{data['attendance_fraction']}">
                                        
                                        <span class="agb-day-number"><t t-esc="day"/></span>

                                        <!-- ENHANCED: Status Dots - Show appropriate dots based on attendance status -->
                                        <t t-if="data['status'] == 'present' or data['status'] == 'weekend_present'">
                                            <!-- Full attendance: 2 green dots -->
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="data['status'] == 'full_absent' or data['status'] == 'invalid_half_leave' and not data.get('has_check_in') and not data.get('has_checkout')">
                                            <!-- Full absent: 2 red dots -->
                                            <div class="agb-status-dot agb-status-dot-absent agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-absent agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="data['status'] == 'partial_absent'">
                                            <!-- Partial absent: 2 green dots (but red background) -->
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="data['status'] == 'partial_leave'">
                                            <!-- Partial leave: 2 green dots (mixed background) -->
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="data.get('has_check_in') and not data.get('has_check_out')">
                                            <!-- Check-in only: 1 green, 1 red -->
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-absent agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="not data.get('has_check_in') and data.get('has_check_out')">
                                            <!-- Check-out only: 1 red, 1 green -->
                                            <div class="agb-status-dot agb-status-dot-absent agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-right"></div>
                                        </t>
                                        <t t-elif="data.get('has_check_in') and data.get('has_check_out')">
                                            <!-- Both check-in and check-out: 2 green dots -->
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-left"></div>
                                            <div class="agb-status-dot agb-status-dot-present agb-status-dot-right"></div>
                                        </t>

                                        <!-- ENHANCED: Public Holiday Display -->
                                        <t t-if="data.get('is_public_holiday')">
                                            <div class="agb-holiday-name">
                                                <t t-esc="data['holiday_name']"/>
                                            </div>
                                        </t>

                                        <!-- ENHANCED: Leave display with proper weekend leave styling -->
                                        <t t-elif="data.get('leave')">
                                            <div class="agb-leave-display">
                                                <span t-attf-class="agb-leave-text #{data.get('is_weekend') and 'agb-weekend-leave-text' or ''}">
                                                    <t t-esc="data['leave_name']"/>
                                                </span>
                                                <span t-attf-class="agb-status-icon agb-state-#{data['leave_state']}"></span>
                                            </div>
                                        </t>

                                    </div>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ENHANCED: Day Details Modal with weekend work support -->
                <div id="day-details-modal" class="agb-day-details-modal">
                    <div class="agb-day-details-content">
                        <div class="agb-day-details-header">
                            <h3 id="modal-date">Date</h3>
                            <button class="agb-close-modal" onclick="closeDayDetails()">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                        <div class="agb-day-details-info">

                            <!-- Public Holiday Section -->
                            <div class="public-holiday-section" style="display:none;">
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-star"></i> Holiday Name</span>
                                    <span class="agb-detail-value" id="modal-holiday-name">Holiday</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-info-circle"></i> Status</span>
                                    <span class="agb-status-badge agb-status-weekend">PUBLIC HOLIDAY</span>
                                </div>
                            </div>

                            <!-- Attendance Section -->
                            <div class="attendance-section">
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-clock-o"></i> Shift</span>
                                    <span class="agb-detail-value" id="modal-shift">Standard Shift</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-sign-in"></i> Check In</span>
                                    <span class="agb-detail-value" id="modal-checkin">Not recorded</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-sign-out"></i> Check Out</span>
                                    <span class="agb-detail-value" id="modal-checkout">Not recorded</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-exclamation-triangle"></i> Late Minutes</span>
                                    <span class="agb-detail-value" id="modal-late">0 minutes</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-info-circle"></i> Status</span>
                                    <span class="agb-status-badge" id="modal-status">Present</span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-adjust"></i> Attendance</span>
                                    <span class="agb-detail-value" id="modal-attendance">1.0</span>
                                </div>
                            </div>

                            <!-- Leave Section -->
                            <div class="leave-section" style="display:none;">
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-file"></i> Leave Type</span>
                                    <span class="agb-detail-value" id="modal-leave-type"></span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-calendar"></i> From</span>
                                    <span class="agb-detail-value" id="modal-leave-from"></span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-calendar"></i> To</span>
                                    <span class="agb-detail-value" id="modal-leave-to"></span>
                                </div><div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-calendar-check-o"></i> Duration</span>
                                    <span class="agb-detail-value" id="modal-leave-duration"> </span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-comment"></i> Reason</span>
                                    <span class="agb-detail-value" id="modal-leave-reason"></span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-user"></i> First Approver</span>
                                    <span class="agb-detail-value" id="modal-leave-approver1"></span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-users"></i> Second Approvers</span>
                                    <span class="agb-detail-value" id="modal-leave-approver2"></span>
                                </div>
                                <div class="agb-detail-row">
                                    <span class="agb-detail-label"><i class="fa fa-info-circle"></i> State</span>
                                    <span class="agb-detail-value agb-status-badge" id="modal-leave-state"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sticky Footer -->
                <div class="agb-footer agb-sticky-footer">
                    <p>copyright Â©AGB Communication 2025 .All Rights Reserved.</p>
                    <p>Secure Emplyee Attendance &amp; Leave Management System v1.0</p> 
                </div>
            </div>
        </body>
    </template>

    <!-- Absent Details Template -->
    <template id="absent_details" name="Absent Details">
        <head>
            <title>Absent Details</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>    
            <link rel="stylesheet" type="text/css" href="/AGB_HR/static/src/css/attendance_dashboard.css"/>
            <script type="text/javascript" src="/AGB_HR/static/src/js/attendance_dashboard.js"/>
            <link rel="shortcut icon" type="image/png" href="/AGB_HR/static/src/img/AGB_LOGO.png"/>
        </head>
        <body>
            <div class="agb-app-container">
                <!-- Sticky Top Navigation -->
                <div class="agb-top-nav agb-sticky-header">
                    <h1 class="agb-nav-title">Absent Details</h1>
                    <div class="agb-nav-actions">
                       
                        <button class="agb-btn agb-btn-link" onclick="window.location.href='/attendance/dashboard'">
                            <i class="fa fa-arrow-left"></i> Dashboard
                        </button>
                        <a href="/attendance/logout" class="agb-btn agb-btn-link">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </div>
                </div>

                <!-- Main Content Wrapper -->
                <div class="agb-main-content-wrapper">
                    <div class="agb-form-card agb-details-container">
                        <div class="agb-details-list">
                            <t t-foreach="absent_days" t-as="record">
                                <div class="agb-detail-card agb-absent-card">
                                    <div class="agb-detail-date">
                                        <i class="fa fa-calendar"></i>
                                        <div>
                                            <h3><t t-esc="record['formatted_date']"/></h3>
                                            <p><t t-esc="record['iso_date']"/></p>
                                        </div>
                                    </div>
                                    
                                    <div class="agb-detail-times">
                                        <div class="agb-time-item">
                                            <i class="fa fa-clock-o"></i> 
                                            <span class="agb-time-label">Check In:</span>
                                            <span class="agb-time-value">
                                                <t t-if="record.get('check_in_time')">
                                                    <span class="agb-time-display">
                                                        <t t-esc="record.get('check_in_time')"/>
                                                    </span>
                                                </t>
                                                <t t-else="">
                                                    <span class="agb-absent-indicator">
                                                        <i class="fa fa-times-circle agb-text-red"></i>
                                                        Not recorded
                                                    </span>
                                                </t>
                                            </span>
                                        </div>
                                        <div class="agb-time-item">
                                            <i class="fa fa-clock-o"></i> 
                                            <span class="agb-time-label">Check Out:</span>
                                            <span class="agb-time-value">
                                                <t t-if="record.get('check_out_time')">
                                                    <span class="agb-time-display">
                                                        <t t-esc="record.get('check_out_time')"/>
                                                    </span>
                                                </t>
                                                <t t-else="">
                                                    <span class="agb-absent-indicator">
                                                        <i class="fa fa-times-circle agb-text-red"></i>
                                                        Not recorded
                                                    </span>
                                                </t>
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div t-attf-class="agb-detail-status agb-status-absent agb-#{record['status'].replace('_', '-')}">
                                        <t t-esc="record['absence_type'].upper()"/>
                                    </div>
                                </div>
                            </t>
                        </div>

                        <t t-if="not absent_days">
                            <div class="agb-no-data">
                                <i class="fa fa-check-circle fa-4x"></i>
                                <h3>No Absent Days</h3>
                                <p>You have perfect attendance this month!</p>
                            </div>
                        </t>
                    </div>
                </div>

                <!-- Sticky Footer -->
                <div class="agb-footer agb-sticky-footer">
                    <p>copyright Â©AGB Communication 2025 .All Rights Reserved.</p>
                    <p>Secure Emplyee Attendance &amp; Leave Management System v1.0</p> 
                </div>
            </div>
        </body>
    </template>

    <!-- Late Details Template -->
    <template id="late_details" name="Late Details">
        <head>
            <title>Late Details</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>    
            <link rel="stylesheet" type="text/css" href="/AGB_HR/static/src/css/attendance_dashboard.css"/>
            <script type="text/javascript" src="/AGB_HR/static/src/js/attendance_dashboard.js"/>
            <link rel="shortcut icon" type="image/png" href="/AGB_HR/static/src/img/AGB_LOGO.png"/>
        </head>
        <body>
            <div class="agb-app-container">
                <!-- Sticky Top Navigation -->
                <div class="agb-top-nav agb-sticky-header">
                    <h1 class="agb-nav-title">Late Details</h1>
                    <div class="agb-nav-actions">
                        <button class="agb-btn agb-btn-link" onclick="window.location.href='/attendance/dashboard'">
                            <i class="fa fa-arrow-left"></i> Dashboard
                        </button>
                        <a href="/attendance/logout" class="agb-btn agb-btn-link">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </div>
                </div>

                <!-- Main Content Wrapper -->
                <div class="agb-main-content-wrapper">
                    <div class="agb-form-card agb-details-container">
                        <div class="agb-details-list">
                            <t t-foreach="late_days" t-as="record">
                                <div class="agb-detail-card agb-late-card">
                                    <div class="agb-detail-date">
                                        <i class="fa fa-calendar"></i>
                                        <div>
                                            <h3><t t-esc="record['formatted_date']"/></h3>
                                            <p><t t-esc="record['iso_date']"/></p>
                                        </div>
                                    </div>
                                    
                                    <div class="agb-detail-times">
                                        <div class="agb-time-item">
                                            <i class="fa fa-clock-o"></i> 
                                            <span class="agb-time-label">Check In:</span>
                                            <span class="agb-time-value"><t t-esc="record['check_in_time']"/></span>
                                        </div>
                                        <div class="agb-late-indicator">
                                            <i class="fa fa-exclamation-triangle"></i> 
                                            <span class="agb-late-minutes"><t t-esc="record['late_minutes']"/> min late</span>
                                        </div>
                                    </div>
                                    
                                    <div t-attf-class="agb-detail-status agb-status-late agb-severity-#{record['severity']}">
                                        LATE
                                    </div>
                                </div>
                            </t>
                        </div>

                        <t t-if="not late_days">
                            <div class="agb-no-data">
                                <i class="fa fa-clock-o fa-4x"></i>
                                <h3>No Late Arrivals</h3>
                                <p>You have perfect punctuality this month!</p>
                            </div>
                        </t>
                    </div>
                </div>

                <!-- Sticky Footer -->
                <div class="agb-footer agb-sticky-footer">
                    <p>copyright Â©AGB Communication 2025 .All Rights Reserved.</p>
                    <p>Secure Emplyee Attendance &amp; Leave Management System v1.0</p> 
                </div>
            </div>
        </body>
    </template>

    <!-- Access Denied Template -->
    <template id="access_denied" name="Access Denied">
        <head>
            <title>Access Denied</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>    
            <link rel="stylesheet" type="text/css" href="/AGB_HR/static/src/css/register.css"/>
            <link rel="shortcut icon" type="image/png" href="/AGB_HR/static/src/img/AGB_LOGO.png"/>
        </head>
        <body>
            <div class="agb-app-container">
                <!-- Sticky Top Navigation -->
                <div class="agb-top-nav agb-sticky-header">
                    <h1 class="agb-nav-title">Access Denied</h1>
                    <div class="agb-nav-actions">
                        <a href="/employee/register" class="agb-btn agb-btn-link">
                            <i class="fa fa-sign-in"></i> Login
                        </a>
                    </div>
                </div>

                <!-- Main Content Wrapper -->
                <div class="agb-main-content-wrapper">
                    <div class="agb-form-card">
                        <div class="agb-error">
                            <i class="fa fa-exclamation-triangle fa-4x"></i>
                            <h3>Access Denied</h3>
                            <p>Please log in to access the attendance dashboard.</p>
                            <a href="/employee/register" class="agb-btn agb-btn-primary">
                                <i class="fa fa-sign-in"></i> Go to Login
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Sticky Footer -->
                <div class="agb-footer agb-sticky-footer">
                    <p>copyright Â©AGB Communication 2025 .All Rights Reserved.</p>
                    <p>Secure Emplyee Attendance &amp; Leave Management System v1.0</p> 
                </div>
            </div>
        </body>
    </template>
</odoo>